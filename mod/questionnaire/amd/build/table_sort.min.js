/**
 * JavaScript library for questionnaire response table sorting.
 *
 * @module     mod_questionnaire/table_sort
 * @copyright
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_questionnaire/table_sort",["jquery"],(function($){var t={init:function(){M.util.js_pending("mod_questionnaire_tablesort"),$(".qn-handcursor").on("click",t.sortcolumn),M.util.js_complete("mod_questionnaire_tablesort")},sortcolumn:function(e){e.preventDefault();var col=$(this).index(),id=$(this).closest("table").attr("id"),sortOrder=1;$(this).siblings().find('span[class^="icon-container-"]').hide(),$(this).siblings().removeClass("asc desc"),$(this).find('span[class^="icon-container-"]').removeAttr("style"),$(this).is(".asc")?($(this).removeClass("asc").addClass("desc"),sortOrder=-1):$(this).addClass("asc").removeClass("desc");var arrData=$(this).closest("table").find("tbody >tr:has(td.cell)").get();arrData.sort((function(a,b){var val1=$(a).children("td").eq(col).text(),val2=$(b).children("td").eq(col).text(),dateregx=/^\d{2}.*\d{4},/;return dateregx.test(val1)&&dateregx.test(val2)?(val1=new Date(val1))<(val2=new Date(val2))?-sortOrder:val1>val2?sortOrder:0:$.isNumeric(val1)&&$.isNumeric(val2)?1==sortOrder?val1-val2:val2-val1:val1<val2?-sortOrder:val1>val2?sortOrder:0})),$.each(arrData,(function(index,row){$("#"+id+" tbody").append(row)}))}};return t}));

//# sourceMappingURL=table_sort.min.js.map