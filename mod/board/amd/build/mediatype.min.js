define("mod_board/mediatype",["exports","jquery"],(function(_exports,_jquery){var obj;
/**
   * Media selection widget handler.
   *
   * NOTE: this was abstracted form board.js
   *
   * @copyright  2021 Brickfield Education Labs <https://www.brickfield.ie/>
   * @license    https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};const handleAction=function(elem,callback){return elem.on("click keypress",(function(e){if("keypress"===e.type){if(13!=(key=e.keyCode)&&32!=key)return;e.preventDefault()}var key;callback(),e.preventDefault()}))};_exports.init=formId=>{const form=(0,_jquery.default)(document.getElementById(formId)),mediaElement=form.find(".mod_board_type"),mediaSelect=(0,_jquery.default)(mediaElement).find("select");mediaElement.hide();const changeEvent=document.createEvent("HTMLEvents");changeEvent.initEvent("change",!0,!0);let ytButton=form.find(".mod_board_attachment_button.youtube_button"),pictureButton=form.find(".mod_board_attachment_button.image_button"),linkButton=form.find(".mod_board_attachment_button.link_button"),fileButton=form.find(".mod_board_attachment_button.file_button"),updateMediaButtons=function(){switch(ytButton.removeClass("selected"),pictureButton.removeClass("selected"),linkButton.removeClass("selected"),fileButton.removeClass("selected"),mediaSelect.val()){case"1":ytButton.addClass("selected");break;case"2":pictureButton.addClass("selected");break;case"3":linkButton.addClass("selected");break;case"4":fileButton.addClass("selected")}};updateMediaButtons(),handleAction(ytButton,(function(){"1"===mediaSelect.val()?mediaSelect.val(0):mediaSelect.val(1),updateMediaButtons(),mediaSelect[0].dispatchEvent(changeEvent)})),handleAction(pictureButton,(function(){"2"===mediaSelect.val()?mediaSelect.val(0):mediaSelect.val(2),updateMediaButtons(),mediaSelect[0].dispatchEvent(changeEvent)})),handleAction(linkButton,(function(){"3"===mediaSelect.val()?mediaSelect.val(0):mediaSelect.val(3),updateMediaButtons(),mediaSelect[0].dispatchEvent(changeEvent)})),handleAction(fileButton,(function(){"4"===mediaSelect.val()?mediaSelect.val(0):mediaSelect.val(4),updateMediaButtons(),mediaSelect[0].dispatchEvent(changeEvent)}))}}));

//# sourceMappingURL=mediatype.min.js.map