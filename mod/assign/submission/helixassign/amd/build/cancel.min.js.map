{"version":3,"file":"cancel.min.js","sources":["../src/cancel.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @package\n * @copyright  2021 Tim Williams Streaming LTD\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine([], function() {\n    var module = {};\n\n    module.helixCancelClick = function() {\n        var xmlDoc = new XMLHttpRequest();\n        var params = 'resource_link_id=' + module.resID + '&user_id=' + module.userID;\n        xmlDoc.open('POST', module.statusURL, false);\n        xmlDoc.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xmlDoc.send(params);\n    };\n\n    module.bind = function() {\n        var cbtn = document.getElementById('id_cancel');\n        if (cbtn !== null) {\n            cbtn.addEventListener('click', module.helixCancelClick);\n        }\n    };\n\n    module.init = function(resID, userID, statusURL) {\n        module.resID = resID;\n        module.userID = userID;\n        module.statusURL = statusURL;\n        module.bind();\n    };\n\n    return module;\n});\n"],"names":["define","module","xmlDoc","XMLHttpRequest","params","resID","userID","open","statusURL","setRequestHeader","send","cbtn","document","getElementById","addEventListener","helixCancelClick","bind"],"mappings":";;;;;AAqBAA,6CAAO,IAAI,eACHC,OAAS,CAEbA,iBAA0B,eAClBC,OAAS,IAAIC,eACbC,OAAS,oBAAsBH,OAAOI,MAAQ,YAAcJ,OAAOK,OACvEJ,OAAOK,KAAK,OAAQN,OAAOO,WAAW,GACtCN,OAAOO,iBAAiB,eAAgB,qCACxCP,OAAOQ,KAAKN,SAGhBH,KAAc,eACNU,KAAOC,SAASC,eAAe,aACtB,OAATF,MACAA,KAAKG,iBAAiB,QAASb,OAAOc,mBAI9Cd,KAAc,SAASI,MAAOC,OAAQE,WAClCP,OAAOI,MAAQA,MACfJ,OAAOK,OAASA,OAChBL,OAAOO,UAAYA,UACnBP,OAAOe,gBAGJf"}