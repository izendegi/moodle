"use strict";(function(root,factory){if(typeof define==="function"&&define.amd){define("pdfjs-web/download_manager",["exports","pdfjs-web/pdfjs"],factory)}else if(typeof exports!=="undefined"){factory(exports,require("./pdfjs.js"))}else{factory(root.pdfjsWebDownloadManager={},root.pdfjsWebPDFJS)}})(this,function(exports,pdfjsLib){function download(blobUrl,filename){var a=document.createElement("a");if(a.click){a.href=blobUrl;a.target="_parent";if("download"in a){a.download=filename}(document.body||document.documentElement).appendChild(a);a.click();a.parentNode.removeChild(a)}else{if(window.top===window&&blobUrl.split("#")[0]===window.location.href.split("#")[0]){var padCharacter=blobUrl.indexOf("?")===-1?"?":"&";blobUrl=blobUrl.replace(/#|$/,padCharacter+"$&")}window.open(blobUrl,"_parent")}}function DownloadManager(){}DownloadManager.prototype={downloadUrl:function DownloadManager_downloadUrl(url,filename){if(!pdfjsLib.isValidUrl(url,true)){return}download(url+"#pdfjs.action=download",filename)},downloadData:function DownloadManager_downloadData(data,filename,contentType){if(navigator.msSaveBlob){return navigator.msSaveBlob(new Blob([data],{type:contentType}),filename)}var blobUrl=pdfjsLib.createObjectURL(data,contentType,pdfjsLib.PDFJS.disableCreateObjectURL);download(blobUrl,filename)},download:function DownloadManager_download(blob,url,filename){if(!URL){this.downloadUrl(url,filename);return}if(navigator.msSaveBlob){if(!navigator.msSaveBlob(blob,filename)){this.downloadUrl(url,filename)}return}var blobUrl=URL.createObjectURL(blob);download(blobUrl,filename)}};exports.DownloadManager=DownloadManager});