"use strict";(function(root,factory){if(typeof define==="function"&&define.amd){define("pdfjs-web/secondary_toolbar",["exports","pdfjs-web/ui_utils"],factory)}else if(typeof exports!=="undefined"){factory(exports,require("./ui_utils.js"))}else{factory(root.pdfjsWebSecondaryToolbar={},root.pdfjsWebUIUtils)}})(this,function(exports,uiUtils){var SCROLLBAR_PADDING=uiUtils.SCROLLBAR_PADDING;var mozL10n=uiUtils.mozL10n;var SecondaryToolbar=function SecondaryToolbarClosure(){function SecondaryToolbar(options,eventBus){this.toolbar=options.toolbar;this.toggleButton=options.toggleButton;this.buttons=[{element:options.presentationModeButton,eventName:"presentationmode",close:true},{element:options.openFileButton,eventName:"openfile",close:true},{element:options.printButton,eventName:"print",close:true},{element:options.downloadButton,eventName:"download",close:true},{element:options.viewBookmarkButton,eventName:null,close:true},{element:options.firstPageButton,eventName:"firstpage",close:true},{element:options.lastPageButton,eventName:"lastpage",close:true},{element:options.pageRotateCwButton,eventName:"rotatecw",close:false},{element:options.pageRotateCcwButton,eventName:"rotateccw",close:false},{element:options.toggleHandToolButton,eventName:"togglehandtool",close:true},{element:options.documentPropertiesButton,eventName:"documentproperties",close:true}];this.eventBus=eventBus;this.opened=false;this.previousContainerHeight=null;this.newContainerHeight=null;this.buttonContainer=this.toolbar.firstElementChild;this._bindClickListeners();this._bindHandToolListener(options.toggleHandToolButton)}SecondaryToolbar.prototype={get isOpen(){return this.opened},_bindClickListeners:function SecondaryToolbar_bindClickListeners(){this.toggleButton.addEventListener("click",this.toggle.bind(this));for(var button in this.buttons){var element=this.buttons[button].element;var eventName=this.buttons[button].eventName;var close=this.buttons[button].close;element.addEventListener("click",function(eventName,close){if(eventName!==null){this.eventBus.dispatch(eventName)}if(close){this.close()}}.bind(this,eventName,close))}},_bindHandToolListener:function SecondaryToolbar_bindHandToolListener(toggleHandToolButton){var isHandToolActive=false;this.eventBus.on("handtoolchanged",function(e){if(isHandToolActive===e.isActive){return}isHandToolActive=e.isActive;if(isHandToolActive){}else{}}.bind(this))},open:function SecondaryToolbar_open(){if(this.opened){return}this.opened=true;this.toggleButton.classList.add("toggled");this.toolbar.classList.remove("hidden")},close:function SecondaryToolbar_close(){if(!this.opened){return}this.opened=false;this.toolbar.classList.add("hidden");this.toggleButton.classList.remove("toggled")},toggle:function SecondaryToolbar_toggle(){if(this.opened){this.close()}else{this.open()}},setMaxHeight:function SecondaryToolbar_setMaxHeight(container){if(!container||!this.buttonContainer){return}this.newContainerHeight=container.clientHeight;if(this.previousContainerHeight===this.newContainerHeight){return}var maxHeight=this.newContainerHeight-SCROLLBAR_PADDING;this.buttonContainer.setAttribute("style","max-height: "+maxHeight+"px;");this.previousContainerHeight=this.newContainerHeight}};return SecondaryToolbar}();exports.SecondaryToolbar=SecondaryToolbar});